<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mir: Setup VMware for Mir</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mir
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Setup VMware for Mir </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Here is a quick-start guide for running Mir in VMware:</p>
<ol type="1">
<li>Go to <a href="https://my.vmware.com/web/vmware/downloads">https://my.vmware.com/web/vmware/downloads</a> and download VMware Player (last in Desktop &amp; End-User Computing section).</li>
<li>Install VMware player with: sudo bash VMware-Player-&lt;VERSION&gt;.x86_64.bundle</li>
<li>Get the latest vivid daily iso (<em>not</em> the unity-next iso!).</li>
<li>Install vivid into VM, restart and log in.</li>
<li>Install VMware tools from the menu "Virtual Machine-&gt;Install VMWare tools" and follow the instructions. If you get an error "VMware Tools installation cannot be started manually while the easy install is in progress see [1].</li>
<li>If you are using Mesa drivers, stop the virtual machine, go to the folder where the VM is saved and add the following line to the &lt;vm-name&gt;.vmx file there: <pre class="fragment">mks.gl.allowBlacklistedDrivers = "TRUE"
</pre></li>
<li>Restart the VM, log in and try <code>glmark2</code> to ensure it shows 'SVGA' as the GL renderer (<em>not</em> 'llvmpipe'!): <pre class="fragment">$ sudo apt-get install glmark2
$ glmark2
</pre></li>
<li><code>$ sudo apt-get unity8-desktop-session-mir mir-demos</code></li>
<li>Try out a Mir demo server:<ol type="a">
<li><p class="startli">Change to VT2 and run</p>
<p class="startli"><code>$ sudo mir_demo_server --launch-client mir_demo_client_egltriangle</code></p>
</li>
<li>You should see a window with a triangle spinning fast</li>
<li>Use Alt + click + drag to move the window around</li>
<li>Use Ctrl+Alt+BkSp to stop the server</li>
</ol>
</li>
<li>Try out the unity8 desktop session by selecting it in lightdm</li>
</ol>
<p>Unfortunately the VMware KMS support is still somewhat unstable. The KMS/DRM driver doesn't seem to respect vsync (hence the fast spinning egl triangle in step 9c). Also switching between VTs may occasionally make the VM unresponsive, and sometimes screen resizing causes problems. I strongly suggest you set up an ssh server in the VM so you can inspect the system over ssh from the host.</p>
<p>[1] <a href="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&cmd=displayKC&externalId=1017687">http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1017687</a> </p>
</div></div><!-- contents -->
<hr>
<p align="center">Copyright &copy; 2012-2017
 Canonical Ltd. <br />
Generated on czw, 28 wrz 2017, 12:44:51 UTC
</p>
</body>
</html>
